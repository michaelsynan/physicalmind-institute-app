import{q,r as z,s as _,v as A,o as g,e as x,w as o,a,x as E,t as k,y as s,b as e,d as h,z as S,A as j,B as H,p as N,I as T,f as D,g as G,h as L,i as M,k as R,l as $,m as F,n as J}from"./DOA2QYji.js";import{_ as K}from"./C70Evzbn.js";import{_ as O}from"./tDQ6inmF.js";import{_ as Q}from"./DlAUqK2U.js";import"./LsYmms5a.js";import"./DODPDuvB.js";const W={class:"mb-2"},X={class:"mb-4"},Y={class:"mb-4"},Z={class:"text-gray-500 dark:text-gray-400 text-xs"},ee={__name:"Account",async setup(B){let r,u;const d=q(),l=z(),n=_(!0),m=_(""),p=_(""),f=_(""),c=_(!1);function y(){c.value=!c.value}n.value=!0;const{data:i}=([r,u]=A(()=>d.from("profiles").select("full_name, website, avatar_url").eq("id",l.value.id).single()),r=await r,u(),r);i&&(m.value=i.website,p.value=i.avatar_url,f.value=i.full_name),n.value=!1;async function v(){try{n.value=!0;const b={id:l.value.id,website:m.value,avatar_url:p.value,updated_at:new Date},{error:t}=await d.from("profiles").upsert(b,{returning:"minimal"});if(t)throw t}catch(b){alert(b.message)}finally{n.value=!1}}return(b,t)=>{const w=K,C=O,I=S,V=j,P=H;return g(),x(P,{class:"max-w-xl p-4 border-2 border-stone-500 bg-stone-100 mx-auto"},{default:o(()=>[a("form",{class:"form-widget",onSubmit:E(v,["prevent"])},[a("div",W,"Hello "+k(s(f)),1),a("div",X,[t[1]||(t[1]=a("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),e(w,{color:"primary",type:"email",id:"email",placeholder:"Enter your email",modelValue:s(l).email,"onUpdate:modelValue":t[0]||(t[0]=U=>s(l).email=U),required:"",class:"placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,["modelValue"])]),a("div",Y,[t[2]||(t[2]=a("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Password",-1)),e(w,{color:"primary",type:"email",id:"email",placeholder:"***********",required:"",class:"placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},{trailing:o(()=>[a("span",Z,[e(C,{name:"i-mdi-pencil",class:"w-5 h-5"})])]),_:1})]),e(V,{lines:"none"},{default:o(()=>[s(c)?(g(),x(I,{key:0,type:"submit",expand:"block",disabled:s(n)},{default:o(()=>[h(k(s(n)?"Loading ...":"Update"),1)]),_:1},8,["disabled"])):(g(),x(I,{key:1,onClick:y,expand:"block",disabled:s(n)},{default:o(()=>t[3]||(t[3]=[h("Edit Profile")])),_:1},8,["disabled"]))]),_:1})],32)]),_:1})}}},oe={};function te(B,r){const u=T,d=D,l=G,n=L,m=M,p=ee,f=R,c=$,y=F,i=J,v=N;return g(),x(v,null,{default:o(()=>[e(m,{class:"ion-no-border border-b bg-white"},{default:o(()=>[e(n,null,{default:o(()=>[e(d,{slot:"start",class:"absolute"},{default:o(()=>[e(u,{defaultHref:"/"})]),_:1}),e(l,{class:"justify-center text-center"})]),_:1})]),_:1}),e(i,{class:"ion-padding"},{default:o(()=>[e(y,{class:"ion-justify-content-center"},{default:o(()=>[e(c,{class:"ion-justify-content-center"},{default:o(()=>[e(f,{"size-md":"8","size-lg":"6","size-xs":"12"},{default:o(()=>[e(p)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ce=Q(oe,[["render",te]]);export{ce as default};
