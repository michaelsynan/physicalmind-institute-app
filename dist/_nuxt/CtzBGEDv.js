import{G as D,q as A,s as j,r as m,Y as S,o as r,e as V,w as t,b as o,k as U,l as H,m as q,n as R,a as w,ac as Y,A as O,ad as X,ae as J,d as i,af as F,a9 as M,c as x,ag as K,$ as Q,a4 as W,_ as Z,N as ee,ah as oe,ai as te,t as B,aj as ne,ak as se,al as ae,am as le,I as ie,f as re,g as de,an as ce,j as ue,i as pe,M as b,p as fe}from"./CLSunYti.js";import{_ as _e}from"./qWeW54sO.js";import{_ as G}from"./DlAUqK2U.js";import"./C8UrGjth.js";const me=D({__name:"LimitedAccess",setup(C){const y=A(),f=j(),d=m("");async function l(){if(f.value){const{data:c,error:a}=await y.from("profiles").select("access").eq("id",f.value.id).single();if(a){console.error("Error fetching profile:",a);return}d.value=c.access}}return S(l),(c,a)=>{const g=R,I=J,u=X,p=O,s=Y,n=q,e=H,k=U,$=F;return r(),V($,null,{default:t(()=>[o(k,{class:"ion-justify-content-center"},{default:t(()=>[o(e,{class:"ion-justify-content-center"},{default:t(()=>[o(n,{"size-md":"8","size-lg":"6","size-xs":"12"},{default:t(()=>[o(g,null,{default:t(()=>a[0]||(a[0]=[w("h2",null,"To gain access to this material please confirm that you have purchased TYE4X or Parasetter",-1)])),_:1}),o(g,null,{default:t(()=>a[1]||(a[1]=[w("p",null," To gain access you can upload a photo, supply the email address used to purchase the product, if from amazon you may provide your Purchase Number, or call our office. ",-1)])),_:1}),o(s,{class:"mt-10"},{default:t(()=>[o(p,null,{default:t(()=>[o(u,{placeholder:"Select a Fruit"},{default:t(()=>[a[5]||(a[5]=w("div",{slot:"label"},"Select Verification Method",-1)),o(I,{value:"apple"},{default:t(()=>a[2]||(a[2]=[i("Upload Photo")])),_:1}),o(I,{value:"banana"},{default:t(()=>a[3]||(a[3]=[i("Provide Email Address")])),_:1}),o(I,{value:"orange"},{default:t(()=>a[4]||(a[4]=[i("Call Us")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),ge={class:"video-container"},ve={key:0,class:"loading-screen"},xe={key:1},we={key:0,class:""},ye={class:"video-list cursor-pointer border-2 rounded-lg"},be=["src","alt"],Ie={class:"text-base truncate text-left"},ke={key:1,class:"ion-padding"},he={__name:"VideoList",props:{tag:String},setup(C){const y=A(),f=m(!0),d=m([]),l=m([]),c=m(!0),a=m([]),g=C;(async()=>{const{data:s,error:n}=await y.from("videos").select("name, videoid, placeholder, description, tags");n?console.error("Error fetching videos:",n):(console.log("Fetched videos:",s),d.value=s,console.log("All videos from database:",d.value),u(6)),f.value=!1})();const u=(s=1)=>{const n=l.value.length;if(g.tag&&g.tag!=="all"){console.log("inside add filtered videos");const e=a.value.slice(n,n+s);l.value.push(...e),l.value.length===a.value.length&&(c.value=!1)}else{console.log("inside show all videos");const e=d.value.slice(n,n+s);l.value.push(...e),l.value.length===d.value.length&&(c.value=!1)}};M(()=>g.tag,(s,n)=>{if(s&&s!=="all"){c.value=!0,l.value=[];const e=d.value.filter(k=>k.tags.includes(s));a.value=e,console.log("THESE ARE THE FILTERED VIDEOS:",a.value),console.log(`Tag changed from ${n} to ${s}`),u(6)}else c.value=!0,l.value=[],u(6),console.log(`Tag changed from ${n} to ${s}: Showing all videos.`)},{immediate:!0}),S(()=>{c.value=!0,u(6)});const p=async s=>{u(),console.log("infinite scroll enabled and videos added",c.value),setTimeout(()=>{s.target.complete()},200)};return(s,n)=>{const e=te,k=oe,$=ne,T=Z,E=F,L=q,N=ae,_=se,P=U;return r(),x("div",ge,[o(P,null,{default:t(()=>[f.value?(r(),x("div",ve,n[0]||(n[0]=[w("p",null,"Loading...",-1)]))):(r(),x("div",xe,[l.value.length>0?(r(),x("div",we,[o(K,{name:"fade",tag:"ion-row"},{default:t(()=>[(r(!0),x(Q,null,W(l.value,(v,z)=>(r(),V(L,{size:"12","size-md":"6",key:v.videoid},{default:t(()=>[o(E,null,{default:t(()=>[o(T,{to:`/video/${v.videoid}`},{default:t(()=>[w("div",ye,[v.placeholder?(r(),x("img",{key:0,src:v.placeholder,alt:v.name,class:"video-placeholder rounded-lg"},null,8,be)):ee("",!0)]),o(k,{class:"pt-3 pb-0"},{default:t(()=>[o(e,{class:"text-lg md:text-xl text-left"},{default:t(()=>[i(B(v.name),1)]),_:2},1024)]),_:2},1024),o($,{class:"text-left pb-1"},{default:t(()=>[w("p",Ie,B(v.description),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(r(),x("div",ke,n[1]||(n[1]=[w("p",null,"Sorry, no videos exist for this query.",-1)])))])),o(_,{onIonInfinite:p,disabled:!c.value,threshold:"20px",class:"mt-10"},{default:t(()=>[o(N,{"loading-spinner":"bubbles"})]),_:1},8,["disabled"])]),_:1})])}}},Ce=G(he,[["__scopeId","data-v-b3e313c2"]]),$e=()=>{const C=A();return{fetchVideoData:async()=>{const{data:f,error:d}=await C.from("videos").select("*");return d?(console.error("Error fetching video data:",d.message),[]):f}}},Te={key:0,class:"my-4 flex items-center justify-center"},Ee={key:2,id:"container",class:"max-w-full mx-auto mt-10"},Se={id:"filter-tags",class:"z-10 m-auto flex flex-row gap-2 justify-start md:justify-center pr-4 items-center flex-grow overflow-x-auto scrollbar-hide overflow-visible px-4 mt-2 md:mt-0 mb-2 w-full"},Ve=D({__name:"index",setup(C){const y=m(!0),f=m([]),{fetchVideoData:d}=$e(),l=j(),c=A(),a=le(),g=m("");S(async()=>{y.value=!0;try{f.value=await d(),console.log("Fetched videos:",f.value),await I()}catch(n){console.error("Error during data fetching:",n)}finally{y.value=!1}});async function I(){if(l.value){const{data:n,error:e}=await c.from("profiles").select("access").eq("id",l.value.id).single();if(e){console.error("Error fetching profile:",e);return}g.value=n.access}}S(I);const u=m("all");M(()=>a.query,()=>{u.value="all"});const p=n=>{u.value=n},s=n=>u.value===n?"badge-selected":"badge-default";return(n,e)=>{const k=ce,$=de,T=re,E=ie,L=pe,N=me,_=_e,P=Ce,v=ue,z=fe;return r(),V(z,null,{default:t(()=>[o(E,{class:"ion-no-border border-b bg-white"},{default:t(()=>[o(T,null,{default:t(()=>[o($,{slot:"start"},{default:t(()=>[o(k)]),_:1})]),_:1})]),_:1}),o(v,{fullscreen:!0},{default:t(()=>[o(E,{collapse:"condense"},{default:t(()=>[o(T,null,{default:t(()=>[o(L,{size:"large"},{default:t(()=>e[8]||(e[8]=[i("PhysicalMind Institute")])),_:1})]),_:1})]),_:1}),y.value?(r(),x("div",Te,e[9]||(e[9]=[w("p",null,"Loading...",-1)]))):g.value?(r(),x("div",Ee,[w("div",Se,[o(_,{onClick:e[0]||(e[0]=h=>p("New")),class:b([s("New"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[10]||(e[10]=[i(" New ")])),_:1},8,["class"]),o(_,{onClick:e[1]||(e[1]=h=>p("all")),class:b([s("all"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[11]||(e[11]=[i(" All Videos ")])),_:1},8,["class"]),o(_,{onClick:e[2]||(e[2]=h=>p("pilates")),class:b([s("pilates"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[12]||(e[12]=[i(" Pilates ")])),_:1},8,["class"]),o(_,{onClick:e[3]||(e[3]=h=>p("dance")),class:b([s("dance"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[13]||(e[13]=[i(" Dance ")])),_:1},8,["class"]),o(_,{onClick:e[4]||(e[4]=h=>p("golf")),class:b([s("golf"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[14]||(e[14]=[i(" Golf ")])),_:1},8,["class"]),o(_,{onClick:e[5]||(e[5]=h=>p("yoga")),class:b([s("yoga"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[15]||(e[15]=[i(" Yoga ")])),_:1},8,["class"]),o(_,{onClick:e[6]||(e[6]=h=>p("posture")),class:b([s("posture"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[16]||(e[16]=[i(" Posture ")])),_:1},8,["class"]),o(_,{onClick:e[7]||(e[7]=h=>p("aging")),class:b([s("aging"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[17]||(e[17]=[i(" Active Aging ")])),_:1},8,["class"])]),o(P,{tag:u.value,class:"max-w-5xl mx-auto"},null,8,["tag"])])):(r(),V(N,{key:1,class:"my-4"}))]),_:1})]),_:1})}}}),ze=G(Ve,[["__scopeId","data-v-58df536f"]]);export{ze as default};
