import{L as j,q as L,r as U,s as x,F as S,o as d,e as $,w as t,b as o,a as k,d as u,j as G,a2 as Y,a3 as K,A as O,a4 as X,k as q,l as J,m as F,B as R,R as D,c as v,y as I,a5 as Q,K as W,U as Z,a6 as ee,t as N,a7 as H,a8 as oe,a9 as te,aa as ne,_ as se,ab as le,ac as ae,ad as ie,Y as b,ae as re,af as de,f as ce,h as ue,i as pe,g as _e,n as fe,p as me}from"./DOA2QYji.js";import{_ as ge}from"./DjIaj06O.js";import{_ as M}from"./DlAUqK2U.js";import"./LsYmms5a.js";const ve=j({__name:"LimitedAccess",setup(T){const h=L(),w=U(),m=x("");async function r(){if(w.value){const{data:a,error:n}=await h.from("profiles").select("access").eq("id",w.value.id).single();if(n){console.error("Error fetching profile:",n);return}m.value=a.access}}return S(r),(a,n)=>{const g=G,c=Y,l=K,p=O,e=X,s=q,_=J,y=F,C=R;return d(),$(C,null,{default:t(()=>[o(y,{class:"ion-justify-content-center"},{default:t(()=>[o(_,{class:"ion-justify-content-center"},{default:t(()=>[o(s,{"size-md":"8","size-lg":"6","size-xs":"12"},{default:t(()=>[o(g,null,{default:t(()=>n[0]||(n[0]=[k("h2",null,"To gain access to this material please confirm that you have purchased TYE4X or Parasetter",-1)])),_:1}),o(g,null,{default:t(()=>n[1]||(n[1]=[k("p",null," To gain access you can upload a photo, supply the email address used to purchase the product, if from amazon you may provide your Purchase Number, or call our office. ",-1)])),_:1}),o(e,{class:"mt-10"},{default:t(()=>[o(p,null,{default:t(()=>[o(l,{placeholder:"Select a Fruit"},{default:t(()=>[n[5]||(n[5]=k("div",{slot:"label"},"Select Verification Method",-1)),o(c,{value:"apple"},{default:t(()=>n[2]||(n[2]=[u("Upload Photo")])),_:1}),o(c,{value:"banana"},{default:t(()=>n[3]||(n[3]=[u("Provide Email Address")])),_:1}),o(c,{value:"orange"},{default:t(()=>n[4]||(n[4]=[u("Call Us")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),xe={class:"video-container"},we={key:0,class:"loading-screen flex justify-center items-center inset-0 fixed h-full w-full"},ye={key:1},be={key:0,class:""},Ie={class:"video-list cursor-pointer border-2 rounded-lg"},ke=["src","alt"],he={class:"text-base truncate text-left"},Ce={key:1,class:"ion-padding"},$e={__name:"VideoList",props:{tag:String},setup(T){const h=L(),w=x(""),m=x([]),r=x([]),a=x(!0),n=x([]),g=T;(async()=>{w.value=!0;const{data:e,error:s}=await h.from("videos").select("name, videoid, placeholder, description, tags");s?console.error("Error fetching videos:",s):(console.log("Fetched videos:",e),m.value=e,console.log("All videos from database:",m.value),l(6)),w.value=!1})();const l=(e=1)=>{const s=r.value.length;if(g.tag&&g.tag!=="all"){console.log("inside add filtered videos");const _=n.value.slice(s,s+e);r.value.push(..._),r.value.length===n.value.length&&(a.value=!1)}else{console.log("inside show all videos");const _=m.value.slice(s,s+e);r.value.push(..._),r.value.length===m.value.length&&(a.value=!1)}};D(()=>g.tag,(e,s)=>{if(e&&e!=="all"){a.value=!0,r.value=[];const _=m.value.filter(y=>y.tags.includes(e));n.value=_,console.log("THESE ARE THE FILTERED VIDEOS:",n.value),console.log(`Tag changed from ${s} to ${e}`),l(6)}else a.value=!0,r.value=[],l(6),console.log(`Tag changed from ${s} to ${e}: Showing all videos.`)},{immediate:!0}),S(()=>{a.value=!0,l(6)});const p=async e=>{l(),console.log("infinite scroll enabled and videos added",a.value),setTimeout(()=>{e.target.complete()},200)};return(e,s)=>{const _=H,y=oe,C=te,E=ne,A=se,B=R,f=q,P=le,V=ae,z=F;return d(),v("div",xe,[o(z,null,{default:t(()=>[I(w)?(d(),v("div",we,[o(_,{name:"lines"})])):(d(),v("div",ye,[I(r).length>0?(d(),v("div",be,[o(Q,{name:"fade",tag:"ion-row"},{default:t(()=>[(d(!0),v(W,null,Z(I(r),(i,Pe)=>(d(),$(f,{size:"12","size-md":"6",key:i.videoid},{default:t(()=>[o(B,null,{default:t(()=>[o(A,{prefetch:"",to:`/video/${i.videoid}`},{default:t(()=>[k("div",Ie,[i.placeholder?(d(),v("img",{key:0,src:i.placeholder,alt:i.name,class:"video-placeholder rounded-lg"},null,8,ke)):ee("",!0)]),o(C,{class:"pt-3 pb-0"},{default:t(()=>[o(y,{class:"text-lg md:text-xl text-left"},{default:t(()=>[u(N(i.name),1)]),_:2},1024)]),_:2},1024),o(E,{class:"text-left pb-1"},{default:t(()=>[k("p",he,N(i.description),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(d(),v("div",Ce,s[0]||(s[0]=[k("p",null,"Sorry, no videos exist for this query.",-1)])))])),o(V,{onIonInfinite:p,disabled:!I(a),threshold:"20px",class:"mt-10"},{default:t(()=>[o(P,{"loading-spinner":"bubbles"})]),_:1},8,["disabled"])]),_:1})])}}},Se=M($e,[["__scopeId","data-v-25172fc6"]]),Te={key:0,class:"loading-screen flex justify-center items-center inset-0 fixed h-full w-full"},Ee={key:2,id:"container",class:"max-w-full mx-auto mt-10"},Ae={id:"filter-tags",class:"z-10 m-auto flex flex-row gap-2 justify-start md:justify-center pr-4 items-center flex-grow overflow-x-auto scrollbar-hide overflow-visible px-4 mt-2 md:mt-0 mb-2 w-full"},Be=j({__name:"index",setup(T){const h=U(),w=L(),m=ie(),r=x(""),a=x("all"),n=x();S(async()=>{n.value=!0;try{await g()}catch(p){console.error("Error during data fetching:",p)}finally{n.value=!1}});async function g(){if(h.value){const{data:p,error:e}=await w.from("profiles").select("access").eq("id",h.value.id).single();if(e){console.error("Error fetching profile:",e);return}r.value=p.access}}S(g),D(()=>m.query,()=>{a.value="all"});const c=p=>{a.value=p},l=p=>a.value===p?"badge-selected":"badge-default";return(p,e)=>{const s=de,_=ce,y=ue,C=pe,E=_e,A=H,B=ve,f=ge,P=Se,V=fe,z=me;return d(),$(z,null,{default:t(()=>[o(C,{class:"ion-no-border border-b bg-white"},{default:t(()=>[o(y,null,{default:t(()=>[o(_,{slot:"start"},{default:t(()=>[o(s)]),_:1})]),_:1})]),_:1}),o(V,{fullscreen:!0},{default:t(()=>[o(C,{collapse:"condense"},{default:t(()=>[o(y,null,{default:t(()=>[o(E,{size:"large"},{default:t(()=>e[8]||(e[8]=[u("PhysicalMind Institute")])),_:1})]),_:1})]),_:1}),I(n)?(d(),v("div",Te,[o(A,{name:"lines"})])):I(r)?(d(),v("div",Ee,[k("div",Ae,[o(f,{onClick:e[0]||(e[0]=i=>c("New")),class:b([l("New"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[9]||(e[9]=[u(" New ")])),_:1},8,["class"]),o(f,{onClick:e[1]||(e[1]=i=>c("all")),class:b([l("all"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[10]||(e[10]=[u(" All Videos ")])),_:1},8,["class"]),o(f,{onClick:e[2]||(e[2]=i=>c("pilates")),class:b([l("pilates"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[11]||(e[11]=[u(" Pilates ")])),_:1},8,["class"]),o(f,{onClick:e[3]||(e[3]=i=>c("dance")),class:b([l("dance"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[12]||(e[12]=[u(" Dance ")])),_:1},8,["class"]),o(f,{onClick:e[4]||(e[4]=i=>c("golf")),class:b([l("golf"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[13]||(e[13]=[u(" Golf ")])),_:1},8,["class"]),o(f,{onClick:e[5]||(e[5]=i=>c("yoga")),class:b([l("yoga"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[14]||(e[14]=[u(" Yoga ")])),_:1},8,["class"]),o(f,{onClick:e[6]||(e[6]=i=>c("posture")),class:b([l("posture"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[15]||(e[15]=[u(" Posture ")])),_:1},8,["class"]),o(f,{onClick:e[7]||(e[7]=i=>c("aging")),class:b([l("aging"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[16]||(e[16]=[u(" Active Aging ")])),_:1},8,["class"])]),(d(),$(re,null,[o(P,{tag:I(a),class:"max-w-5xl mx-auto"},null,8,["tag"])],1024))])):(d(),$(B,{key:1,class:"my-4"}))]),_:1})]),_:1})}}}),je=M(Be,[["__scopeId","data-v-4f7ec0b4"]]);export{je as default};
