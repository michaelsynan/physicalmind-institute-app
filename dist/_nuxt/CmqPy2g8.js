import{G as D,q as A,s as j,r as m,Y as S,o as r,e as V,w as t,b as o,k as U,l as H,m as q,n as R,a as x,ac as Y,A as O,ad as X,ae as J,d as i,af as F,a9 as M,c as v,ag as K,$ as Q,a4 as W,_ as Z,N as ee,ah as oe,ai as te,t as B,aj as ne,ak as se,al as ae,am as le,I as ie,f as re,g as de,an as ce,j as ue,i as pe,M as b,p as fe}from"./_zzroedJ.js";import{_ as _e}from"./BW5Z9Z9F.js";import{_ as G}from"./DlAUqK2U.js";import"./DOwTyeaY.js";const me=D({__name:"LimitedAccess",setup(C){const w=A(),p=j(),I=m("");async function y(){if(p.value){const{data:f,error:n}=await w.from("profiles").select("access").eq("id",p.value.id).single();if(n){console.error("Error fetching profile:",n);return}I.value=f.access}}return S(y),(f,n)=>{const l=R,u=J,d=X,c=O,a=Y,s=q,e=H,k=U,$=F;return r(),V($,null,{default:t(()=>[o(k,{class:"ion-justify-content-center"},{default:t(()=>[o(e,{class:"ion-justify-content-center"},{default:t(()=>[o(s,{"size-md":"8","size-lg":"6","size-xs":"12"},{default:t(()=>[o(l,null,{default:t(()=>n[0]||(n[0]=[x("h2",null,"To gain access to this material please confirm that you have purchased TYE4X or Parasetter",-1)])),_:1}),o(l,null,{default:t(()=>n[1]||(n[1]=[x("p",null," To gain access you can upload a photo, supply the email address used to purchase the product, if from amazon you may provide your Purchase Number, or call our office. ",-1)])),_:1}),o(a,{class:"mt-10"},{default:t(()=>[o(c,null,{default:t(()=>[o(d,{placeholder:"Select a Fruit"},{default:t(()=>[n[5]||(n[5]=x("div",{slot:"label"},"Select Verification Method",-1)),o(u,{value:"apple"},{default:t(()=>n[2]||(n[2]=[i("Upload Photo")])),_:1}),o(u,{value:"banana"},{default:t(()=>n[3]||(n[3]=[i("Provide Email Address")])),_:1}),o(u,{value:"orange"},{default:t(()=>n[4]||(n[4]=[i("Call Us")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),ge={class:"video-container"},ve={key:0,class:"loading-screen"},xe={key:1},we={key:0,class:""},ye={class:"video-list cursor-pointer border-2 rounded-lg"},be=["src","alt"],Ie={class:"text-base truncate text-left"},ke={key:1,class:"ion-padding"},he={__name:"VideoList",props:{tag:String},setup(C){const w=A(),p=m(!0);(async()=>{const{data:a,error:s}=await w.from("videos").select("name, videoid, placeholder, description, tags");s?console.error("Error fetching videos:",s):(console.log("Fetched videos:",a),f.value=a,console.log("All videos from database:",f.value),d(6)),p.value=!1})();const y=C,f=m([]),n=m([]),l=m(!0),u=m([]),d=(a=1)=>{const s=n.value.length;if(y.tag&&y.tag!=="all"){console.log("inside add filtered videos");const e=u.value.slice(s,s+a);n.value.push(...e),n.value.length===u.value.length&&(l.value=!1)}else{console.log("inside show all videos");const e=f.value.slice(s,s+a);n.value.push(...e),n.value.length===f.value.length&&(l.value=!1)}};M(()=>y.tag,(a,s)=>{if(a&&a!=="all"){l.value=!0,n.value=[];const e=f.value.filter(k=>k.tags.includes(a));u.value=e,console.log("THESE ARE THE FILTERED VIDEOS:",u.value),console.log(`Tag changed from ${s} to ${a}`),d(6)}else l.value=!0,n.value=[],d(6),console.log(`Tag changed from ${s} to ${a}: Showing all videos.`)},{immediate:!0}),S(()=>{l.value=!0,d(6)});const c=async a=>{d(),console.log("infinite scroll enabled and videos added",l.value),setTimeout(()=>{a.target.complete()},200)};return(a,s)=>{const e=te,k=oe,$=ne,T=Z,E=F,L=q,N=ae,_=se,P=U;return r(),v("div",ge,[o(P,null,{default:t(()=>[p.value?(r(),v("div",ve,s[0]||(s[0]=[x("p",null,"Loading...",-1)]))):(r(),v("div",xe,[n.value.length>0?(r(),v("div",we,[o(K,{name:"fade",tag:"ion-row"},{default:t(()=>[(r(!0),v(Q,null,W(n.value,(g,z)=>(r(),V(L,{size:"12","size-md":"6",key:g.videoid},{default:t(()=>[o(E,null,{default:t(()=>[o(T,{to:`/video/${g.videoid}`},{default:t(()=>[x("div",ye,[g.placeholder?(r(),v("img",{key:0,src:g.placeholder,alt:g.name,class:"video-placeholder rounded-lg"},null,8,be)):ee("",!0)]),o(k,{class:"pt-3 pb-0"},{default:t(()=>[o(e,{class:"text-lg md:text-xl text-left"},{default:t(()=>[i(B(g.name),1)]),_:2},1024)]),_:2},1024),o($,{class:"text-left pb-1"},{default:t(()=>[x("p",Ie,B(g.description),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(r(),v("div",ke,s[1]||(s[1]=[x("p",null,"Sorry, no videos exist for this query.",-1)])))])),o(_,{onIonInfinite:c,disabled:!l.value,threshold:"20px",class:"mt-10"},{default:t(()=>[o(N,{"loading-spinner":"bubbles"})]),_:1},8,["disabled"])]),_:1})])}}},Ce=G(he,[["__scopeId","data-v-e2bd726c"]]),$e=()=>{const C=A();return{fetchVideoData:async()=>{const{data:p,error:I}=await C.from("videos").select("*");return I?(console.error("Error fetching video data:",I.message),[]):p}}},Te={key:0,class:"my-4 flex items-center justify-center"},Ee={key:2,id:"container",class:"max-w-full mx-auto mt-10"},Se={id:"filter-tags",class:"z-10 m-auto flex flex-row gap-2 justify-start md:justify-center pr-4 items-center flex-grow overflow-x-auto scrollbar-hide overflow-visible px-4 mt-2 md:mt-0 mb-2 w-full"},Ve=D({__name:"index",setup(C){const w=m(!0),p=m([]),{fetchVideoData:I}=$e(),y=j(),f=A(),n=le(),l=m("");S(async()=>{w.value=!0;try{p.value=await I(),console.log("Fetched videos:",p.value),await u()}catch(s){console.error("Error during data fetching:",s)}finally{w.value=!1}});async function u(){if(y.value){const{data:s,error:e}=await f.from("profiles").select("access").eq("id",y.value.id).single();if(e){console.error("Error fetching profile:",e);return}l.value=s.access}}S(u);const d=m("all");M(()=>n.query,()=>{d.value="all"});const c=s=>{d.value=s},a=s=>d.value===s?"badge-selected":"badge-default";return(s,e)=>{const k=ce,$=de,T=re,E=ie,L=pe,N=me,_=_e,P=Ce,g=ue,z=fe;return r(),V(z,null,{default:t(()=>[o(E,{class:"ion-no-border border-b bg-white"},{default:t(()=>[o(T,null,{default:t(()=>[o($,{slot:"start"},{default:t(()=>[o(k)]),_:1})]),_:1})]),_:1}),o(g,{fullscreen:!0},{default:t(()=>[o(E,{collapse:"condense"},{default:t(()=>[o(T,null,{default:t(()=>[o(L,{size:"large"},{default:t(()=>e[8]||(e[8]=[i("PhysicalMind Institute")])),_:1})]),_:1})]),_:1}),w.value?(r(),v("div",Te,e[9]||(e[9]=[x("p",null,"Loading...",-1)]))):l.value?(r(),v("div",Ee,[x("div",Se,[o(_,{onClick:e[0]||(e[0]=h=>c("New")),class:b([a("New"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[10]||(e[10]=[i(" New ")])),_:1},8,["class"]),o(_,{onClick:e[1]||(e[1]=h=>c("all")),class:b([a("all"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[11]||(e[11]=[i(" All Videos ")])),_:1},8,["class"]),o(_,{onClick:e[2]||(e[2]=h=>c("pilates")),class:b([a("pilates"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[12]||(e[12]=[i(" Pilates ")])),_:1},8,["class"]),o(_,{onClick:e[3]||(e[3]=h=>c("dance")),class:b([a("dance"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[13]||(e[13]=[i(" Dance ")])),_:1},8,["class"]),o(_,{onClick:e[4]||(e[4]=h=>c("golf")),class:b([a("golf"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[14]||(e[14]=[i(" Golf ")])),_:1},8,["class"]),o(_,{onClick:e[5]||(e[5]=h=>c("yoga")),class:b([a("yoga"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[15]||(e[15]=[i(" Yoga ")])),_:1},8,["class"]),o(_,{onClick:e[6]||(e[6]=h=>c("posture")),class:b([a("posture"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[16]||(e[16]=[i(" Posture ")])),_:1},8,["class"]),o(_,{onClick:e[7]||(e[7]=h=>c("aging")),class:b([a("aging"),"cursor-pointer py-2 px-4 rounded-full border-2 tracking-wide whitespace-nowrap text-stone-600"])},{default:t(()=>e[17]||(e[17]=[i(" Active Aging ")])),_:1},8,["class"])]),o(P,{tag:d.value,class:"max-w-5xl mx-auto"},null,8,["tag"])])):(r(),V(N,{key:1,class:"my-4"}))]),_:1})]),_:1})}}}),ze=G(Ve,[["__scopeId","data-v-58df536f"]]);export{ze as default};
